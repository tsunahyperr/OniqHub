<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perancang Menu 30 Hari</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom CSS for Calendar Grid */
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 8px;
        }

        .day-name {
            padding: 8px;
            text-align: center;
            font-weight: 600;
            color: #6b7280;
            font-size: 0.875rem;
        }

        .day-cell {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 1rem;
        }

        .day-cell:hover {
            transform: translateY(-2px);
        }

        .day-disabled {
            aspect-ratio: 1;
        }

        .menu-list-container {
            scrollbar-width: thin;
            scrollbar-color: #f7a049 #f3f4f6;
        }

        .menu-list-container::-webkit-scrollbar {
            width: 6px;
        }

        .menu-list-container::-webkit-scrollbar-track {
            background: #f3f4f6;
            border-radius: 10px;
        }

        .menu-list-container::-webkit-scrollbar-thumb {
            background: #f7a049;
            border-radius: 10px;
        }

        body {
            background: linear-gradient(135deg, #fef3c7 0%, #fce7f3 100%);
        }

        @media (max-width: 640px) {
            .day-cell {
                font-size: 0.875rem;
            }
            .day-name {
                font-size: 0.75rem;
                padding: 4px;
            }
        }
    </style>
</head>
<body>
    <div class="min-h-screen p-4 sm:p-8 flex flex-col items-center">

        <!-- Header -->
        <header class="w-full max-w-4xl text-center mb-8">
            <h1 class="text-4xl sm:text-5xl font-extrabold text-[#f7a049] drop-shadow-lg">
                <span class="text-gray-800">Haziq</span> Meal Planner
            </h1>
            <p class="text-lg text-gray-500 mt-2 font-medium">made by Wife Ayoni</p>
        </header>

        <!-- Main Content Grid -->
        <div class="w-full max-w-6xl grid grid-cols-1 lg:grid-cols-3 gap-8">

            <!-- Calendar Panel (Left/Top) -->
            <div class="lg:col-span-2 bg-white p-6 sm:p-8 rounded-2xl shadow-2xl border border-gray-100">
                <h2 class="text-3xl font-extrabold text-gray-800 mb-6 flex justify-between items-center">
                    <span id="currentMonthYear"></span>
                    <button id="todayButton" class="px-4 py-2 text-sm font-semibold text-white bg-[#f7a049] hover:bg-orange-600 rounded-full shadow-md transition duration-150">Menu Hari Ini</button>
                </h2>
                
                <!-- Calendar Day Names -->
                <div class="calendar-grid text-center font-semibold text-gray-600 mb-2">
                    <div class="day-name">Ahad</div>
                    <div class="day-name">Isnin</div>
                    <div class="day-name">Selasa</div>
                    <div class="day-name">Rabu</div>
                    <div class="day-name">Khamis</div>
                    <div class="day-name">Jumaat</div>
                    <div class="day-name">Sabtu</div>
                </div>
                <!-- Calendar Days -->
                <div id="calendar" class="calendar-grid">
                    <!-- Day cells will be inserted here -->
                </div>
            </div>

            <!-- Menu Display Panel (Right/Bottom) -->
            <div class="lg:col-span-1 bg-white p-6 sm:p-8 rounded-2xl shadow-2xl border border-gray-100 flex flex-col h-full min-h-[400px]">
                <h2 class="text-2xl font-bold text-gray-800 mb-4 pb-2 border-b-2 border-gray-100">
                    Menu Hari Ke <span id="selectedDayDisplay" class="text-[#f7a049] font-extrabold">...</span>
                </h2>
                
                <!-- Menu Details -->
                <div id="menuDetails" class="space-y-4 text-gray-700 menu-list-container flex-grow overflow-y-auto pr-2">
                    <!-- Menu content will be displayed here -->
                    <p class="text-gray-500 text-center mt-8 p-4 bg-gray-50 rounded-lg">Sila pilih satu hari dari kalendar untuk melihat menu.</p>
                </div>

                <!-- Footer/Summary -->
                <div class="mt-6 pt-4 border-t text-sm text-gray-500">
                    <p class="font-bold text-gray-700">Tips Kesihatan:</p>
                    <p>Pastikan fokus anda pada tempeh, tauhu, dan sayuran segar untuk protein & serat yang mencukupi setiap hari.</p>
                </div>
            </div>

        </div>
    </div>

    <script>
        // Data Menu Anda (Disimpan dalam format JavaScript Object)
        const menuData = {
            1: { sarapan: "Oat + pisang + susu rendah lemak", tengah_hari: "Roti gandum + salad tauhu", snek: "Epal", makan_malam: "Nasi + sup sayur + tauhu goreng" },
            2: { sarapan: "Roti bakar + mentega kacang", tengah_hari: "Kentang rebus + sayur campur + telur rebus", snek: "Yogurt rendah lemak", makan_malam: "Nasi + sayur tumis + tempeh" },
            3: { sarapan: "Ubi keledek rebus", tengah_hari: "Kentang lenyek + sayur stim", snek: "Pisang", makan_malam: "Nasi + kobis + telur" },
            4: { sarapan: "Jagung rebus + susu soya", tengah_hari: "Sandwich roti gandum + tempeh", snek: "Betik", makan_malam: "Nasi + sup sayur jernih + tempeh" },
            5: { sarapan: "Yogurt + buah campur", tengah_hari: "Kentang rebus + bayam + tauhu", snek: "Oren", makan_malam: "Nasi + sayur sawi + tauhu masak kicap ringan" },
            6: { sarapan: "Roti wholemeal + avokado", tengah_hari: "Roti sandwich + telur rebus + timun", snek: "Buah naga", makan_malam: "Nasi + sayur lemak cair + tempeh" },
            7: { sarapan: "Oat + strawberi + susu rendah lemak", tengah_hari: "Kentang goreng air fryer + sayur campur", snek: "Pisang", makan_malam: "Nasi + tauhu berlada manis (tanpa ikan bilis)" },
            8: { sarapan: "Ubi keledek kukus + teh kosong", tengah_hari: "Roti gandum + salad tempeh panggang", snek: "Betik", makan_malam: "Nasi + sayur bayam + tempeh goreng" },
            9: { sarapan: "Jagung rebus + yogurt rendah lemak", tengah_hari: "Kentang lenyek + sayur kobis + tauhu", snek: "Epal hijau", makan_malam: "Nasi + sup sayur + telur rebus" },
            10: { sarapan: "Roti bakar + selai kacang", tengah_hari: "Roti wholemeal + sayur tumis + tempeh", snek: "Pisang", makan_malam: "Nasi + sayur sawi + tauhu kukus" },
            11: { sarapan: "Oat + epal parut + susu rendah lemak", tengah_hari: "Kentang rebus + tempeh goreng kunyit", snek: "Yogurt", makan_malam: "Nasi + sup sayur + sayur bayam muda" },
            12: { sarapan: "Ubi keledek rebus", tengah_hari: "Roti sandwich + salad + telur rebus", snek: "Betik", makan_malam: "Nasi + kobis tumis + tempeh panggang" },
            13: { sarapan: "Roti wholemeal + madu + teh kosong", tengah_hari: "Kentang lenyek + sayur campur + tauhu", snek: "Oren", makan_malam: "Nasi + sup sayur bening + tempeh goreng" },
            14: { sarapan: "Oat + pisang", tengah_hari: "Roti bakar + salad tempeh", snek: "Yogurt", makan_malam: "Nasi + sayur sawi + telur rebus" },
            15: { sarapan: "Jagung rebus", tengah_hari: "Kentang rebus + sayur bayam + tauhu", snek: "Pisang", makan_malam: "Nasi + sayur campur + tauhu goreng kunyit" },
            16: { sarapan: "Yogurt + buah naga", tengah_hari: "Roti sandwich + sayur stim", snek: "Betik", makan_malam: "Nasi + kobis + tempeh" },
            17: { sarapan: "Roti wholemeal + avokado", tengah_hari: "Kentang rebus + salad sayur", snek: "Epal", makan_malam: "Nasi + sayur tumis air + telur rebus" },
            18: { sarapan: "Ubi keledek rebus", tengah_hari: "Roti bakar + tempeh goreng kunyit", snek: "Yogurt", makan_malam: "Nasi + sayur lemak cair + tauhu" },
            19: { sarapan: "Jagung rebus + susu soya", tengah_hari: "Kentang lenyek + sayur kobis + telur", snek: "Pisang", makan_malam: "Nasi + sayur bayam + tempeh panggang" },
            20: { sarapan: "Roti bakar + mentega kacang", tengah_hari: "Roti gandum + sayur tumis", snek: "Oren", makan_malam: "Nasi + sayur campur + tauhu kukus" },
            21: { sarapan: "Oat + buah campur", tengah_hari: "Kentang rebus + sayur sawi + tauhu", snek: "Yogurt", makan_malam: "Nasi + sup sayur bening + tempeh" },
            22: { sarapan: "Roti wholemeal + madu", tengah_hari: "Roti sandwich + salad tempeh panggang", snek: "Betik", makan_malam: "Nasi + kobis + telur rebus" },
            23: { sarapan: "Ubi keledek rebus", tengah_hari: "Kentang goreng air fryer + sayur campur", snek: "Pisang", makan_malam: "Nasi + sayur sawi + tempeh" },
            24: { sarapan: "Yogurt + strawberi", tengah_hari: "Roti bakar + sayur tumis", snek: "Epal", makan_malam: "Nasi + sup sayur + tauhu goreng" },
            25: { sarapan: "Jagung rebus + susu rendah lemak", tengah_hari: "Kentang lenyek + sayur kobis", snek: "Betik", makan_malam: "Nasi + sayur bayam muda + tempeh" },
            26: { sarapan: "Oat + pisang", tengah_hari: "Roti wholemeal + tempeh goreng kunyit", snek: "Oren", makan_malam: "Nasi + kobis + telur" },
            27: { sarapan: "Roti wholemeal + avokado", tengah_hari: "Kentang rebus + sayur tumis", snek: "Yogurt", makan_malam: "Nasi + sup sayur campur + tempeh" },
            28: { sarapan: "Ubi keledek rebus", tengah_hari: "Roti sandwich + tauhu goreng + sayur", snek: "Pisang", makan_malam: "Nasi + sayur sawi + tauhu kukus" },
            29: { sarapan: "Jagung rebus", tengah_hari: "Kentang lenyek + sayur bayam", snek: "Betik", makan_malam: "Nasi + sup sayur jernih + tempeh panggang" },
            30: { sarapan: "Yogurt + buah campur", tengah_hari: "Roti wholemeal + salad sayur + telur rebus", snek: "Epal", makan_malam: "Nasi + sayur tumis air + tauhu masak kicap ringan" },
        };

        const calendarEl = document.getElementById('calendar');
        const monthYearEl = document.getElementById('currentMonthYear');
        const selectedDayDisplayEl = document.getElementById('selectedDayDisplay');
        const menuDetailsEl = document.getElementById('menuDetails');
        const todayButtonEl = document.getElementById('todayButton');
        let selectedDayElement = null;

        // Mendapatkan tarikh hari ini
        const today = new Date();
        const startDay = 1; 

        /**
         * Fungsi untuk menjana sel kalendar
         */
        function generateCalendar() {
            calendarEl.innerHTML = '';
            
            // Set bulan dan tahun (gunakan bulan semasa sebagai rujukan visual)
            const monthNames = ["Januari", "Februari", "Mac", "April", "Mei", "Jun", "Julai", "Ogos", "September", "Oktober", "November", "Disember"];
            const currentMonth = today.getMonth();
            const currentYear = today.getFullYear();
            monthYearEl.textContent = `${monthNames[currentMonth]} ${currentYear}`;

            // Logik untuk menentukan hari dalam minggu permulaan bulan (untuk padding)
            let dateReference = new Date(today);
            dateReference.setDate(1); 
            const startingDayOfWeek = dateReference.getDay(); // 0 (Sunday) to 6 (Saturday)

            // Tambah sel kosong untuk padding
            for (let i = 0; i < startingDayOfWeek; i++) {
                const emptyCell = document.createElement('div');
                emptyCell.className = 'day-disabled'; 
                calendarEl.appendChild(emptyCell);
            }

            // Generate 30 days of the menu cycle
            for (let day = 1; day <= 30; day++) {
                const dayCell = document.createElement('div');
                const isToday = day === calculateTodayMenuDay();

                // Gunakan day-cell dari CSS. Hanya masukkan kelas Tailwind untuk keadaan terpilih/hari ini
                dayCell.className = `day-cell font-bold ${
                    isToday ? 'bg-[#f7a049] text-white border-orange-600 shadow-xl' : 'bg-orange-50 text-gray-800 border-orange-200 hover:bg-orange-100 border'
                }`;
                dayCell.textContent = day;
                dayCell.dataset.menuDay = day;

                dayCell.addEventListener('click', () => {
                    selectDay(day, dayCell);
                });

                calendarEl.appendChild(dayCell);
            }
        }

        /**
         * Menghitung hari menu 1-30 berdasarkan tarikh hari ini
         */
        function calculateTodayMenuDay() {
            const date = new Date();
            let dayOfMonth = date.getDate();
            
            // Kitaran 30 hari: (Hari Semasa - 1) % 30 + 1
            return ((dayOfMonth - 1) % 30) + 1;
        }

        /**
         * Fungsi untuk memaparkan menu hari yang dipilih
         */
        function displayMenu(day) {
            const menu = menuData[day];
            selectedDayDisplayEl.textContent = day;

            if (menu) {
                menuDetailsEl.innerHTML = `
                    ${createMealCard('Sarapan Pagi', menu.sarapan, 'bg-green-100 text-green-700')}
                    ${createMealCard('Makan Tengah Hari', menu.tengah_hari, 'bg-blue-100 text-blue-700')}
                    ${createMealCard('Snek', menu.snek, 'bg-yellow-100 text-yellow-700')}
                    ${createMealCard('Makan Malam', menu.makan_malam, 'bg-red-100 text-red-700')}
                `;
            } else {
                menuDetailsEl.innerHTML = `<p class="text-gray-500 text-center mt-8 p-4 bg-gray-50 rounded-lg">Menu untuk Hari ${day} tiada dalam rekod.</p>`;
            }
        }

        /**
         * Helper untuk membuat kad hidangan
         */
        function createMealCard(title, content, colorClasses) {
            return `
                <div class="${colorClasses} p-4 rounded-xl shadow-md border border-gray-100 hover:shadow-lg transition-shadow duration-200">
                    <h4 class="font-extrabold text-lg mb-1">${title}</h4>
                    <p class="text-base">${content}</p>
                </div>
            `;
        }

        /**
         * Fungsi untuk mengendalikan pemilihan hari
         */
        function selectDay(day, element) {
            // Nyahpilih hari sebelumnya
            if (selectedDayElement) {
                // Remove selected styles and restore default styles
                selectedDayElement.classList.remove('bg-[#f7a049]', 'text-white', 'border-orange-600', 'shadow-xl');
                selectedDayElement.classList.add('bg-orange-50', 'text-gray-800', 'border-orange-200', 'border');
            }
            
            // Pilih hari baru
            element.classList.remove('bg-orange-50', 'text-gray-800', 'border-orange-200', 'border');
            element.classList.add('bg-[#f7a049]', 'text-white', 'border-orange-600', 'shadow-xl');
            selectedDayElement = element;

            displayMenu(day);
        }

        /**
         * Muat semula UI pada permulaan
         */
        function initializeApp() {
            generateCalendar();
            
            // Secara automatik pilih dan paparkan menu hari ini
            const todayMenuDay = calculateTodayMenuDay();
            const todayCell = document.querySelector(`[data-menu-day="${todayMenuDay}"]`);
            if (todayCell) {
                selectDay(todayMenuDay, todayCell);
            }
        }

        // Event listener untuk butang "Menu Hari Ini"
        todayButtonEl.addEventListener('click', () => {
            const todayMenuDay = calculateTodayMenuDay();
            const todayCell = document.querySelector(`[data-menu-day="${todayMenuDay}"]`);
            if (todayCell) {
                selectDay(todayMenuDay, todayCell);
                // Scroll the calendar view if necessary (optional)
                todayCell.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }
        });

        // Jalankan aplikasi
        initializeApp();

    </script>
</body>
</html>